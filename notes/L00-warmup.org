#+TITLE: Lecture 0: 预热
#+AUTHOR: Jinghui Hu
#+EMAIL: hujinghui@buaa.edu.cn
#+DATE: <2024-03-23 Sat>
#+STARTUP: overview num indent
#+OPTIONS: ^:nil

* Hello World
#+BEGIN_SRC rust :exports both
  fn main() {
      println!("hello world from here");
  }
#+END_SRC

#+RESULTS:
: hello world from here

* 变量绑定
** 不可变性
- binding => 绑定
#+BEGIN_SRC rust :exports both
  let x = 12;
  x += 1;
#+END_SRC

#+RESULTS:
: error: Could not compile `cargo2AKCJn`.

添加 ~mut~ 关键字来修改变量的可变性
#+BEGIN_SRC rust :exports both
  let mut x = 12;
  x += 1;
  println!("{}", x);
#+END_SRC

#+RESULTS:
: 13

** 可以重新绑定
#+BEGIN_SRC rust :exports both
  let x = 12;
  println!("{x}");
  let y = 2;
  let x = "xxx";
  println!("{x}");
#+END_SRC

#+RESULTS:
: 12
: xxx

** 模式可以绑定变量
#+BEGIN_SRC rust :exports both
  let (a, b) = (12, "abc");
  println!("{a}");
  println!("{b}");
#+END_SRC

#+RESULTS:
: 12
: abc

* 表达式
- ~()~ 表示 unit 类型， unit 类型只包含一个值，即  ~()~
#+BEGIN_SRC rust :exports both
  fn foo() -> i32 { 5 }
  fn bar() -> () { () }
  fn baz() -> () { 5; }
  fn qux()       { 5; }
#+END_SRC

#+RESULTS:

- if 表达式举例
#+BEGIN_SRC rust :exports both
  let x = -5;
  let y = if x > 0 { "greater" } else { "less" };
  println!("x = {} is {} than zero", x, y);
#+END_SRC

#+RESULTS:
: x = -5 is less than zero

* 类型 type
** 数组 array
#+BEGIN_SRC rust :exports both
  let aa = [1, 2, 3];
  println!("{:?}", aa);
  let bb = [1; 4];
  println!("{:?}", bb);
#+END_SRC

#+RESULTS:
: [1, 2, 3]
: [1, 1, 1, 1]

** 切片 slice

#+BEGIN_SRC rust :exports both
  let arr = [1, 2, 3, 4,5];
  println!("{arr:?}");
  println!("{:?}", &arr[1..3]);
#+END_SRC

#+RESULTS:
: [1, 2, 3, 4, 5]
: [2, 3]

** 字符串 string
1. ~String~ 堆分配
2. ~&str~ 静态

** 元组 tuple
#+BEGIN_SRC rust :exports both
  let a = (1, 2);
  println!("{}", a.1);
#+END_SRC

#+RESULTS:
: 2
